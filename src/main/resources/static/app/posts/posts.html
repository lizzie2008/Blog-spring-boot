<style>
</style>
<div ng-controller="postsController" ng-init="postComment={}">
	<div class="content row">
		<div class="col-md-9">
			<div class="border my-2">
				<!-- breadcrumb -->
				<ul class="breadcrumb">
					<li class="breadcrumb-item">
						<i class="fa fa-home">
							<a href="#">&nbsp;主页</a>
						</i>
					</li>
					<li class="breadcrumb-item">
						<a href="#">{{blog.category.name}}</a>
					</li>
					<li class="breadcrumb-item active">{{blog.title}}</li>
				</ul>
				<!-- title -->
				<div class="text-center">
					<h1>{{blog.title}}</h1>
					<small class="text-muted"> 发表于：{{blog.createTime | date:'yyyy-MM-dd'}}&nbsp;|&nbsp; 分类于：{{blog.category.name}}&nbsp;|&nbsp;
						阅读数：{{blog.readSize}}&nbsp;|&nbsp; 评论数：{{blog.commentSize}}&nbsp;|&nbsp; 点赞数：{{blog.voteSize}} </small>
				</div>
				<hr>
				<!-- blog content -->
				<article id="doc-content">
					<textarea style="display: none;">{{blog.content}}</textarea>
				</article>
				<hr>
				<!-- comment -->
				<section class="container">
					<!-- comments-list -->
					<div class="comment-list">
						<h6 class="comment-title">
							<i class="fa fa-pencil"></i>
							评论列表（已有 4 条评论）
						</h6>
						<!-- 普通的评论 -->
						<ul class="list-unstyled rootComment">
							<li class="media mt-3" ng-repeat="comment in comments">
								<img class="mr-3 rounded-circle" ng-src="images/browser/{{comment.browser}}.png" alt="browser">
								<div class="media-body">
									<div class="mt-0 mb-1" ng-mouseenter="showReply = true" ng-mouseleave="showReply = false">
										<strong>
											<a ng-if="comment.webSite" ng-href="http://{{comment.webSite}}" target="_blank"> {{comment.nickName}} </a>
											<span ng-if="!comment.webSite">{{comment.nickName}}</span>
										</strong>
										<span class="mr-3 text-muted"> posted at {{comment.createTime | date:"yyyy-MM-dd hh:mm"}} </span>
										<a class="pull-right" href="" ng-if="showReply" ng-click="jumpToComment(comment.id,comment.nickName)">回复</a>
										<div class="mt-2">{{comment.content}}</div>
									</div>
									<!-- 回复的评论 -->
									<ul class="list-unstyled subComment">
										<li class="media mt-2" ng-repeat="subComment in comment.subComments">
											<img class="mr-3 rounded-circle" ng-src="images/browser/{{subComment.browser}}.png" alt="browser">
											<div class="media-body">
												<div class="mt-0 mb-1" ng-mouseenter="showSubReply = true" ng-mouseleave="showSubReply = false">
													<strong>
														<a ng-if="subComment.webSite" ng-href="http://{{subComment.webSite}}" target="_blank">{{subComment.nickName}}</a>
														<span ng-if="!subComment.webSite">{{subComment.nickName}}</span>
													</strong>
													<span class="mr-3 text-muted"> posted at {{subComment.createTime | date:"yyyy-MM-dd hh:mm"}} </span>
													<a class="pull-right" href="" ng-if="showSubReply" ng-click="jumpToComment(comment.id,subComment.nickName)">回复</a>
													<div class="mt-2">{{subComment.content}}</div>
												</div>
											</div>
										</li>
									</ul>
								</div>
							</li>
						</ul>
					</div>
					<!-- comment-post -->
					<div class="comment-post mb-5">
						<h6 class="comment-title">
							<i class="fa fa-pencil"></i>
							发表评论
						</h6>
						<form class="comment-post" ng-submit="onSubmit()" name="myForm" novalidate>
							<textarea name="content" class="ol-md-12 shadow-box" rows="6" placeholder="请遵守相关法律与法规，文明评论。O(∩_∩)O~~" ng-model="postComment.content" required></textarea>
							<div>
								<input class="col-md-4" placeholder="昵称...(必填)" ng-model="postComment.nickName" name="nickName" required />
								<input class="col-md-4" placeholder="网址..." ng-model="postComment.webSite" />
								<button class="col-md-4 btn btn-secondary btn-sm pull-right" type="submit" ng-disabled="myForm.content.$invalid || myForm.nickName.$invalid">评论</button>
								<div class="clearfix"></div>
							</div>
						</form>
					</div>
				</section>
			</div>
		</div>
		<!-- blog nav -->
		<div class="col-md-3">
			<div class="doc-nav mt-3 position-fixed ">
				<h5 class="text-center">目录</h5>
				<hr>
				<nav id="myScrollspy"></nav>
			</div>
		</div>
	</div>
</div>